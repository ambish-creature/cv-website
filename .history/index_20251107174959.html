<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Toto Wang · Computer Science</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Top Nav -->
  <header class="topnav">
    <div class="container nav-inner">
      <a class="brand" href="index.html">Toto<span>Wang</span></a>
      <nav class="nav-links">
        <a href="#about">About</a>
        <a href="#projects">Projects</a>
        <a href="#blog">Blog</a>
        <a href="#contact">Contact</a>
        <a class="btn small" href="personal-photos.html">Personal Photos</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero hero-split parallax" id="top">
    <div class="container hero-grid">
      <div class="hero-copy">
        <h1>Building useful things with code.</h1>
        <p class="subtitle">CS @ University of Manchester (G400). Interests: systems, compilers, and clean UI engineering.</p>
        <div class="cta">
          <a class="btn" href="#projects">View Projects</a>
          <a class="btn btn-secondary" href="mailto:youremail@example.com">Contact Me</a>
        </div>
        <div class="meta-row">
          <span>• Manchester, UK</span>
          <span>• Open to internships 2026</span>
        </div>
      </div>
      <div class="hero-media">
        <img src="images/hero-illustration.png" alt="Tech illustration" />
      </div>
    </div>
    <div class="scroll-cue">Scroll</div>
  </section>

  <!-- Features -->
  <section class="section">
    <div class="container">
      <div class="feature-grid">
        <article class="feature card reveal">
          <h3>Efficient</h3>
          <p>Focus on lean, readable code and measurable performance.</p>
        </article>
        <article class="feature card reveal">
          <h3>Reliable</h3>
          <p>Tests, CI, and code reviews to keep things solid.</p>
        </article>
        <article class="feature card reveal">
          <h3>Usable</h3>
          <p>Thoughtful UI/UX so people actually enjoy using it.</p>
        </article>
      </div>
    </div>
  </section>

  <!-- Motion Blur Portfolio Showcase -->
  <section class="showcase-mb" aria-label="Portfolio Showcase">
    <div class="mb-bg" aria-hidden="true"></div>
    <div class="mb-overlay" aria-hidden="true"></div>
    <div class="mb-track" id="mb-track">
      <figure class="mb-slide is-active">
        <img src="personal_photo/1.jpeg" alt="Slide 1">
        <figcaption>Project One — Systems & Performance</figcaption>
      </figure>
      <figure class="mb-slide">
        <img src="personal_photo/2.jpeg" alt="Slide 2">
        <figcaption>Project Two — UI Engineering</figcaption>
      </figure>
      <figure class="mb-slide">
        <img src="personal_photo/3.jpeg" alt="Slide 3">
        <figcaption>Project Three — Algorithms</figcaption>
      </figure>
      <figure class="mb-slide">
        <img src="personal_photo/4.jpeg" alt="Slide 4">
        <figcaption>Project Four — Tooling</figcaption>
      </figure>
      <figure class="mb-slide">
        <img src="personal_photo/5.jpeg" alt="Slide 5">
        <figcaption>Project Five — Data Viz</figcaption>
      </figure>
      <figure class="mb-slide">
        <img src="personal_photo/6.jpeg" alt="Slide 6">
        <figcaption>Project Six — Experiments</figcaption>
      </figure>
    </div>
  
    <div class="mb-controls">
      <button class="mb-btn" id="mb-prev" aria-label="Previous slide">‹</button>
      <div class="mb-dots" id="mb-dots" aria-label="Slide indicators"></div>
      <button class="mb-btn" id="mb-next" aria-label="Next slide">›</button>
    </div>
  </section>

  <!-- About -->
  <section id="about" class="section">
    <div class="container">
      <div class="about-grid card reveal">
        <div>
          <h2>About Me</h2>
          <p>I’m a first‑year Computer Science student at the University of Manchester. I like low‑level programming, algorithms, and building delightful interfaces. Outside class, I’m learning Rust and hacking on small tools.</p>
          <p><a href="personal-photos.html">See my personal photos →</a></p>
        </div>
        <div class="about-aside">
          <ul class="list">
            <li><strong>Languages:</strong> Python, C, JavaScript</li>
            <li><strong>Tools:</strong> Git, Linux, VS Code</li>
            <li><strong>Web:</strong> HTML, CSS, Node.js</li>
          </ul>
          <a class="btn small" href="#" download>Download CV (PDF)</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Projects -->
  <section id="projects" class="section">
    <div class="container">
      <h2 class="section-title">Projects</h2>
      <div class="projects-grid">
        <article class="project card reveal">
          <h3>RISC‑V Mini Assembler</h3>
          <p>Coursework for COMP12111. Parses a subset of RV32I and emits machine code. Includes symbol resolution and basic error reporting.</p>
          <div class="tags"><span>RISC‑V</span><span>C</span><span>Assembler</span></div>
        </article>
        <article class="project card reveal">
          <h3>CV Site</h3>
          <p>This website. Static site deployed on GitHub Pages with Cloudflare DNS and TLS. No frameworks, just HTML/CSS/JS.</p>
          <div class="tags"><span>HTML</span><span>CSS</span><span>Cloudflare</span></div>
        </article>
        <article class="project card reveal">
          <h3>Algo Visualizer</h3>
          <p>Small visualizer for sorting algorithms; emphasizes stability, swaps, and time complexity intuition.</p>
          <div class="tags"><span>JavaScript</span><span>Algorithms</span></div>
        </article>
      </div>
    </div>
  </section>

  <!-- Blog (placeholder) -->
  <section id="blog" class="section">
    <div class="container">
      <h2 class="section-title">Latest Posts</h2>
      <div class="blog-grid">
        <article class="card blog-card reveal">
          <h4>Measuring learning vs. feeling of learning</h4>
          <p>A short note on why active learning feels harder but works better.</p>
          <a href="#" class="more">Read →</a>
        </article>
        <article class="card blog-card reveal">
          <h4>From notes to a working RISC‑V loop</h4>
          <p>Building a tight branch‑minimal loop in assembly.</p>
          <a href="#" class="more">Read →</a>
        </article>
        <article class="card blog-card reveal">
          <h4>My starter dotfiles</h4>
          <p>Shell, Vim, and Git tweaks that actually help.</p>
          <a href="#" class="more">Read →</a>
        </article>
      </div>
    </div>
  </section>

  <!-- Newsletter -->
  <section class="section">
    <div class="container">
      <div class="newsletter card reveal">
        <h3>Subscribe for updates</h3>
        <form class="form-grid" onsubmit="event.preventDefault(); alert('Thanks! (stub)');">
          <input class="field" type="email" placeholder="Email address" required />
          <button class="btn" type="submit">Subscribe</button>
        </form>
        <p class="muted">No spam. Unsubscribe any time.</p>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="section">
    <div class="container">
      <div class="contact card reveal">
        <h2>Contact</h2>
        <form class="form-grid" onsubmit="event.preventDefault(); window.location='mailto:youremail@example.com';">
          <input class="field" type="text" name="name" placeholder="Your name" required />
          <input class="field" type="email" name="email" placeholder="Email" required />
          <textarea class="field" name="message" placeholder="Message" rows="4" required></textarea>
          <button class="btn" type="submit">Send</button>
        </form>
        <p class="muted">Prefer email? <a href="mailto:youremail@example.com">youremail@example.com</a></p>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container">
      <p>© <span id="year"></span> Toto Wang · <a href="https://wmt615.com">wmt615.com</a></p>
    </div>
    <script>
      // Respect reduced motion
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      // Footer year
      document.getElementById('year').textContent = new Date().getFullYear();
  
      // Helpers
      const clamp = (v, min, max) => Math.min(max, Math.max(min, v));
      const lerp = (a, b, t) => a + (b - a) * t;
  
      // Reveal on scroll
      const revealEls = document.querySelectorAll('.reveal');
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          if(e.isIntersecting){ e.target.classList.add('in-view'); }
        });
      }, { threshold: 0.15 });
      revealEls.forEach(el=>io.observe(el));
  
      if (!prefersReduced) {
        // Parallax hero
        const hero = document.querySelector('.hero.parallax');
        const heroImg = hero?.querySelector('.hero-media img');
        const heroCopy = hero?.querySelector('.hero-copy');
        const onScroll = () => {
          const y = window.scrollY || window.pageYOffset;
          const factor = clamp(y / 600, 0, 1);
          if (heroImg) {
            const ty = lerp(0, 40, factor);      // move image slower
            const sc = lerp(1, 1.06, factor);    // slight scale
            heroImg.style.transform = `translateY(${ty}px) scale(${sc})`;
          }
          if (heroCopy) {
            const ty2 = lerp(0, -22, factor);    // copy drifts up a bit
            heroCopy.style.transform = `translateY(${ty2}px)`;
            heroCopy.style.opacity = String(lerp(1, 0.92, factor));
          }
        };
        onScroll();
        window.addEventListener('scroll', onScroll, { passive: true });
  
        // Sticky showcase: scale & fade media as you scroll through section
        const showcase = document.querySelector('.scroll-section');
        const pin = showcase?.querySelector('.pin');
        const media = showcase?.querySelector('.showcase-media');
        const onScrollShowcase = () => {
          if (!showcase || !pin || !media) return;
          const rect = showcase.getBoundingClientRect();
          const winH = window.innerHeight || 1;
          // progress: 0 at section top enters viewport, 1 near the end
          const prog = clamp((winH - rect.top) / (rect.height - winH), 0, 1);
          const scale = lerp(1.0, 1.12, prog);
          const opacity = lerp(0.85, 1, prog);
          media.style.transform = `scale(${scale})`;
          media.style.opacity = opacity.toFixed(3);
        };
        onScrollShowcase();
        window.addEventListener('scroll', onScrollShowcase, { passive: true });
        window.addEventListener('resize', onScrollShowcase);
      }

        // --- Motion Blur Portfolio Showcase ---
        (function(){
          const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
          const track = document.getElementById('mb-track');
          if (!track) return;
          const slides = Array.from(track.querySelectorAll('.mb-slide'));
          const prevBtn = document.getElementById('mb-prev');
          const nextBtn = document.getElementById('mb-next');
          const dotsWrap = document.getElementById('mb-dots');
          let idx = 0;
  
          // Build dots
          slides.forEach((_, i) => {
            const d = document.createElement('button');
            d.className = 'mb-dot' + (i === 0 ? ' is-active' : '');
            d.setAttribute('aria-label', 'Go to slide ' + (i+1));
            d.addEventListener('click', ()=>go(i, true));
            dotsWrap.appendChild(d);
          });
          const dots = Array.from(dotsWrap.querySelectorAll('.mb-dot'));
  
          function setClasses(){
            slides.forEach(s=>s.classList.remove('is-prev','is-active','is-next'));
            const prev = (idx - 1 + slides.length) % slides.length;
            const next = (idx + 1) % slides.length;
            slides[prev].classList.add('is-prev');
            slides[idx].classList.add('is-active');
            slides[next].classList.add('is-next');
            dots.forEach((d,i)=>d.classList.toggle('is-active', i===idx));
          }
          function go(i, user=false){
            idx = (i + slides.length) % slides.length;
            setClasses();
            if (user) restart();
          }
          function next(){ go(idx+1); }
          function prev(){ go(idx-1); }
  
          let timer = null;
          function restart(){
            if (timer) clearInterval(timer);
            if (!prefersReduced) {
              timer = setInterval(next, 6000); // auto-advance
            }
          }
  
          prevBtn.addEventListener('click', ()=>go(idx-1, true));
          nextBtn.addEventListener('click', ()=>go(idx+1, true));
  
          setClasses();
          restart();
          window.addEventListener('visibilitychange', ()=>{ if (document.hidden) clearInterval(timer); else restart(); });
          window.addEventListener('resize', ()=>{ /* layout recalcs if needed later */ });
        })();
    </script>
  </footer>
</body>
</html>
